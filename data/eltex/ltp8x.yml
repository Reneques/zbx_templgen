host:
  group: Aggregation
  template: ltp-8x-template
  name: Template Eltex LTP-8X
applications:
  - Front port Gi0
  - Front port Gi1
  - Front port Gi2
  - Front port Gi3
  - Front port Gi4
  - Front port Gi5
  - Front port Gi6
  - Front port Gi7
  - Front port 10Gi0
  - Front port 10Gi1
  - PON port 0
  - PON port 1
  - PON port 2
  - PON port 3
  - PON port 4
  - PON port 5
  - PON port 6
  - PON port 7
  - ICMP
  - System Monitoring
items:
  - name: 'ICMP (ping)'
    item_type: 'SIMPLE'
    application: 'ICMP'
    key: 'icmpping[,4]'
    delay: '60s'
    history: '1d'
    trends: '3d'
    triggers:
      - expression: '{last()}=0'
        name: 'ICMP unreachable'
        priority: WARNING
        manual_close: YES
  - name: 'ICMP (RTT)'
    item_type: 'SIMPLE'
    application: 'ICMP'
    key: 'icmppingsec[,10,,1450,,]'
    value_type: 'FLOAT'
    delay: '60s'
    history: '7d'
    trends: '30d'
    units: 'ms'
    MULTIPLIER: '1000'
  - name: 'ICMP (LOSS)'
    item_type: 'SIMPLE'
    application: 'ICMP'
    key: 'icmppingloss[,10,,1450,]'
    value_type: 'FLOAT'
    delay: '60s'
    history: '7d'
    trends: '30d'
    units: 'ms'
    MULTIPLIER: '1000'
  - name: 'System uptime'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'sysUpTime'
    oid: '1.3.6.1.2.1.1.3.0'
    delay: '300s'
    history: '1d'
    trends: '1d'
    MULTIPLIER: '0.01'
    triggers:
      - expression: '{last(,10m)}&lt;600'
        name: 'System restarted'
        priority: WARNING
        manual_close: YES
  - name: 'CPU load'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xCPULoadAverage1Minute'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.3.0'
    delay: '300s'
    history: '1d'
    trends: '7d'
    units: '%'
    MULTIPLIER: '0.01'
    triggers:
      - expression: '{last(,5m)}&gt;70'
        recovery_expression: '{last(,10m)}&lt;65'
        name: 'CPU overload'
        priority: HIGH
        manual_close: YES
  - name: 'Free memory'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xRAMFree'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.2.0'
    delay: '300s'
    history: '1d'
    trends: '7d'
    units: 'bytes'
  - name: 'FAN 1 status'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xFan0Active'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.6.0'
    delay: '600s'
    history: '1h'
    trends: '1d'
    triggers:
      - expression: '{last()}=2'
        name: 'FAN 1 error'
        priority: HIGH
        manual_close: YES
  - name: 'FAN 2 status'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xFan1Active'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.8.0'
    delay: '600s'
    history: '1h'
    trends: '1d'
    triggers:
      - expression: '{last()}=2'
        name: 'FAN 2 error'
        priority: HIGH
        manual_close: YES
  - name: 'LTP temperature'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xSensor1Temperature'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.10.0'
    delay: '300s'
    history: '1d'
    trends: '7d'
    units: 'c'
    triggers:
      - expression: '{last(,10m)}&lt;0 or {last(,10m)}&gt;30'
        recovery_expression: '{last(,10m)}&gt;0 and {last(,10m)}&lt;30'
        name: 'Critical temperature'
        priority: HIGH
        manual_close: YES
  - name: 'CPU temperature'
    item_type: 'SNMP_AGENT'
    application: 'System Monitoring'
    key: 'ltp8xSensor2Temperature'
    oid: '1.3.6.1.4.1.35265.1.22.1.10.11.0'
    delay: '300s'
    history: '1d'
    trends: '7d'
    units: 'c'
  - name: 'System memory utilization'
    item_type: 'CALCULATED'
    application: 'System Monitoring'
    key: 'ltp8xRAMUsage'
    delay: '300s'
    history: '1d'
    trends: '7d'
    units: '%'
    param: 'last("ltp8xRAMFree") / 4950000'
    triggers:
      - expression: '{last(,10m)}&gt;80'
        recovery_expression: '{last(,10m)}&lt;80'
        name: 'Critical temperature'
        priority: HIGH
        manual_close: YES
  - name: 'Online ONT count'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xPONChannelONTCount'
    oid: '1.3.6.1.4.1.35265.1.22.2.1.1.4.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    interfaces: 'ports_gpon'
  - name: 'Operation status'
    item_type: 'SNMP_AGENT'
    key: 'ifOperStatus'
    oid: '1.3.6.1.2.1.2.2.1.8'
    delay: '300s'
    history: '1d'
    trends: '7d'
    interfaces: 'ports_standart'
    triggers:
      - expression: '{last()}=2'
        name: 'is down'
        priority: HIGH
        manual_close: YES
  - name: 'Incoming total packets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortGoodPktsRcv'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.6.1'
    delay: '300s'
    history: '1d'
    trends: '7d'
    interfaces: 'ports_eltex'
    CHANGE_PER_SECOND: YES
  - name: 'Outgoing total packets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortGoodPktsSent'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.17.1'
    delay: '300s'
    history: '1d'
    trends: '7d'
    interfaces: 'ports_eltex'
    CHANGE_PER_SECOND: YES
  - name: 'Incoming broadcast Packets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortBrdcPktsRcv'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.8.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    units: 'pps'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'Outgoing broadcast Packets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortBrdcPktsSent'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.20.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    units: 'pps'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'Incoming octets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortGoodOctetsRcv'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.3.1'
    delay: '300s'
    history: '7d'
    trends: '90d'
    units: 'bps'
    CHANGE_PER_SECOND: YES
    MULTIPLIER: '8'
    interfaces: 'ports_eltex'
  - name: 'Outgoing octets'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortGoodOctetsSent'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.16.1'
    delay: '300s'
    history: '7d'
    trends: '90d'
    units: 'bps'
    CHANGE_PER_SECOND: YES
    MULTIPLIER: '8'
    interfaces: 'ports_eltex'
  - name: 'Packets loss'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortDropEvents'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.24.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'Fragment errors'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortFragmentsPkts'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.26.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'CRC errors'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortBadCrc'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.30.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'Collisions'
    item_type: 'SNMP_AGENT'
    key: 'ltp8xSwitchPortCollisions'
    oid: '1.3.6.1.4.1.35265.1.22.9.5.1.31.1'
    delay: '300s'
    history: '1d'
    trends: '30d'
    CHANGE_PER_SECOND: YES
    interfaces: 'ports_eltex'
  - name: 'Errors'
    item_type: 'CALCULATED'
    key: 'ltp8xSwitchPortErrorsSum'
    delay: '300s'
    history: '1d'
    trends: '30d'
    interfaces: 'ports_eltex'
    params:
      - 'last("ltp8xSwitchPortCollisions'
      - 'last("ltp8xSwitchPortBadCrc'
      - 'last("ltp8xSwitchPortFragmentsPkts'
      - 'last("ltp8xSwitchPortDropEvents'
    triggers:
      - expression: '{last()}>20'
        name: 'errors accumulation'
        priority: HIGH
        manual_close: YES
ports:
  ports_eltex:
    Front port 10Gi0: '.9'
    Front port 10Gi1: '.10'
    Front port Gi0: '.1'
    Front port Gi1: '.2'
    Front port Gi2: '.3'
    Front port Gi3: '.4'
    Front port Gi4: '.5'
    Front port Gi5: '.6'
    Front port Gi6: '.7'
    Front port Gi7: '.8'
    PON port 0: '.11'
    PON port 1: '.12'
    PON port 2: '.15'
    PON port 3: '.16'
    PON port 4: '.17'
    PON port 5: '.18'
    PON port 6: '.19'
    PON port 7: '.20'
  ports_gpon:
    PON port 0: '.1'
    PON port 1: '.2'
    PON port 2: '.3'
    PON port 3: '.4'
    PON port 4: '.5'
    PON port 5: '.6'
    PON port 6: '.7'
    PON port 7: '.8'
  ports_standart:
    Front port 10Gi0: '.17'
    Front port 10Gi1: '.18'
    Front port Gi0: '.9'
    Front port Gi1: '.10'
    Front port Gi2: '.11'
    Front port Gi3: '.12'
    Front port Gi4: '.13'
    Front port Gi5: '.14'
    Front port Gi6: '.15'
    Front port Gi7: '.16'
    PON port 0: '.1'
    PON port 1: '.2'
    PON port 2: '.3'
    PON port 3: '.4'
    PON port 4: '.5'
    PON port 5: '.6'
    PON port 6: '.7'
    PON port 7: '.8'
graphs:
  - name: 'Host temperature'
    ymin: '-10'
    ymax: '60'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'ltp8xSensor1Temperature'
      - sort: '2'
        drawtype: 'GRADIENT_LINE'
        color: 'FF00FF'
        key: 'ltp8xSensor2Temperature'
  - name: 'Host CPU load'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'ltp8xCPULoadAverage1Minute'
  - name: 'Host memory utilization'
    ymin: '0'
    ymax: '100'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'ltp8xRAMUsage'
  - name: 'ICMP'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'icmppingsec[,10,,1450,,]'
      - sort: '2'
        drawtype: 'GRADIENT_LINE'
        color: 'FF00FF'
        key: 'icmppingloss[,10,,1450,]'
  - name: 'Traffic'
    interfaces: 'ports_eltex'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'ltp8xSwitchPortGoodOctetsRcv'
      - sort: '2'
        drawtype: 'GRADIENT_LINE'
        color: 'FF00FF'
        key: 'ltp8xSwitchPortGoodOctetsSent'
  - name: 'Statistics'
    interfaces: 'ports_eltex'
    g_items:
      - sort: '1'
        color: 'FF0000'
        key: 'ltp8xSwitchPortGoodPktsRcv'
      - sort: '2'
        color: 'FF00FF'
        key: 'ltp8xSwitchPortGoodPktsSent'
      - sort: '3'
        color: 'FF8C00'
        key: 'ltp8xSwitchPortBrdcPktsRcv'
      - sort: '4'
        color: 'FFD700'
        key: 'ltp8xSwitchPortBrdcPktsSent'
      - sort: '5'
        color: 'ADFF2F'
        key: 'ltp8xSwitchPortDropEvents'
      - sort: '6'
        color: '228B22'
        key: 'ltp8xSwitchPortFragmentsPkts'
      - sort: '7'
        color: 'ADFF2F'
        key: 'ltp8xSwitchPortBadCrc'
      - sort: '8'
        color: '228B22'
        key: 'ltp8xSwitchPortCollisions'
  - name: 'ONT oline'
    interfaces: 'ports_gpon'
    ymin: '0'
    ymax: '128'
    g_items:
      - sort: '1'
        drawtype: 'GRADIENT_LINE'
        color: 'FF0000'
        key: 'ltp8xPONChannelONTCount'